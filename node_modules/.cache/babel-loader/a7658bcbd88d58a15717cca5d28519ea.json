{"ast":null,"code":"/*! @license ScrollReveal v4.0.9\n\n\tCopyright 2021 Fisssion LLC.\n\n\tLicensed under the GNU General Public License 3.0 for\n\tcompatible open source projects and non-commercial use.\n\n\tFor commercial sites, themes, projects, and applications,\n\tkeep your source code private/proprietary by purchasing\n\ta commercial license from https://scrollrevealjs.org/\n*/\nimport $ from 'tealight';\nimport { translateY, translateX, rotateX, rotateY, rotateZ, scale, parse, multiply } from 'rematrix';\nimport raf from 'miniraf';\nvar defaults = {\n  delay: 0,\n  distance: '0',\n  duration: 600,\n  easing: 'cubic-bezier(0.5, 0, 0, 1)',\n  interval: 0,\n  opacity: 0,\n  origin: 'bottom',\n  rotate: {\n    x: 0,\n    y: 0,\n    z: 0\n  },\n  scale: 1,\n  cleanup: false,\n  container: document.documentElement,\n  desktop: true,\n  mobile: true,\n  reset: false,\n  useDelay: 'always',\n  viewFactor: 0.0,\n  viewOffset: {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  },\n  afterReset: function afterReset() {},\n  afterReveal: function afterReveal() {},\n  beforeReset: function beforeReset() {},\n  beforeReveal: function beforeReveal() {}\n};\n\nfunction failure() {\n  document.documentElement.classList.remove('sr');\n  return {\n    clean: function clean() {},\n    destroy: function destroy() {},\n    reveal: function reveal() {},\n    sync: function sync() {},\n\n    get noop() {\n      return true;\n    }\n\n  };\n}\n\nfunction success() {\n  document.documentElement.classList.add('sr');\n\n  if (document.body) {\n    document.body.style.height = '100%';\n  } else {\n    document.addEventListener('DOMContentLoaded', function () {\n      document.body.style.height = '100%';\n    });\n  }\n}\n\nvar mount = {\n  success: success,\n  failure: failure\n};\n\nfunction isObject(x) {\n  return x !== null && x instanceof Object && (x.constructor === Object || Object.prototype.toString.call(x) === '[object Object]');\n}\n\nfunction each(collection, callback) {\n  if (isObject(collection)) {\n    var keys = Object.keys(collection);\n    return keys.forEach(function (key) {\n      return callback(collection[key], key, collection);\n    });\n  }\n\n  if (collection instanceof Array) {\n    return collection.forEach(function (item, i) {\n      return callback(item, i, collection);\n    });\n  }\n\n  throw new TypeError('Expected either an array or object literal.');\n}\n\nfunction logger(message) {\n  var details = [],\n      len = arguments.length - 1;\n\n  while (len-- > 0) {\n    details[len] = arguments[len + 1];\n  }\n\n  if (this.constructor.debug && console) {\n    var report = \"%cScrollReveal: \" + message;\n    details.forEach(function (detail) {\n      return report += \"\\n — \" + detail;\n    });\n    console.log(report, 'color: #ea654b;'); // eslint-disable-line no-console\n  }\n}\n\nfunction rinse() {\n  var this$1 = this;\n\n  var struct = function struct() {\n    return {\n      active: [],\n      stale: []\n    };\n  };\n\n  var elementIds = struct();\n  var sequenceIds = struct();\n  var containerIds = struct();\n  /**\n   * Take stock of active element IDs.\n   */\n\n  try {\n    each($('[data-sr-id]'), function (node) {\n      var id = parseInt(node.getAttribute('data-sr-id'));\n      elementIds.active.push(id);\n    });\n  } catch (e) {\n    throw e;\n  }\n  /**\n   * Destroy stale elements.\n   */\n\n\n  each(this.store.elements, function (element) {\n    if (elementIds.active.indexOf(element.id) === -1) {\n      elementIds.stale.push(element.id);\n    }\n  });\n  each(elementIds.stale, function (staleId) {\n    return delete this$1.store.elements[staleId];\n  });\n  /**\n   * Take stock of active container and sequence IDs.\n   */\n\n  each(this.store.elements, function (element) {\n    if (containerIds.active.indexOf(element.containerId) === -1) {\n      containerIds.active.push(element.containerId);\n    }\n\n    if (element.hasOwnProperty('sequence')) {\n      if (sequenceIds.active.indexOf(element.sequence.id) === -1) {\n        sequenceIds.active.push(element.sequence.id);\n      }\n    }\n  });\n  /**\n   * Destroy stale containers.\n   */\n\n  each(this.store.containers, function (container) {\n    if (containerIds.active.indexOf(container.id) === -1) {\n      containerIds.stale.push(container.id);\n    }\n  });\n  each(containerIds.stale, function (staleId) {\n    var stale = this$1.store.containers[staleId].node;\n    stale.removeEventListener('scroll', this$1.delegate);\n    stale.removeEventListener('resize', this$1.delegate);\n    delete this$1.store.containers[staleId];\n  });\n  /**\n   * Destroy stale sequences.\n   */\n\n  each(this.store.sequences, function (sequence) {\n    if (sequenceIds.active.indexOf(sequence.id) === -1) {\n      sequenceIds.stale.push(sequence.id);\n    }\n  });\n  each(sequenceIds.stale, function (staleId) {\n    return delete this$1.store.sequences[staleId];\n  });\n}\n\nvar getPrefixedCssProp = function () {\n  var properties = {};\n  var style = document.documentElement.style;\n\n  function getPrefixedCssProperty(name, source) {\n    if (source === void 0) source = style;\n\n    if (name && typeof name === 'string') {\n      if (properties[name]) {\n        return properties[name];\n      }\n\n      if (typeof source[name] === 'string') {\n        return properties[name] = name;\n      }\n\n      if (typeof source[\"-webkit-\" + name] === 'string') {\n        return properties[name] = \"-webkit-\" + name;\n      }\n\n      throw new RangeError(\"Unable to find \\\"\" + name + \"\\\" style property.\");\n    }\n\n    throw new TypeError('Expected a string.');\n  }\n\n  getPrefixedCssProperty.clearCache = function () {\n    return properties = {};\n  };\n\n  return getPrefixedCssProperty;\n}();\n\nfunction style(element) {\n  var computed = window.getComputedStyle(element.node);\n  var position = computed.position;\n  var config = element.config;\n  /**\n   * Generate inline styles\n   */\n\n  var inline = {};\n  var inlineStyle = element.node.getAttribute('style') || '';\n  var inlineMatch = inlineStyle.match(/[\\w-]+\\s*:\\s*[^;]+\\s*/gi) || [];\n  inline.computed = inlineMatch ? inlineMatch.map(function (m) {\n    return m.trim();\n  }).join('; ') + ';' : '';\n  inline.generated = inlineMatch.some(function (m) {\n    return m.match(/visibility\\s?:\\s?visible/i);\n  }) ? inline.computed : inlineMatch.concat(['visibility: visible']).map(function (m) {\n    return m.trim();\n  }).join('; ') + ';';\n  /**\n   * Generate opacity styles\n   */\n\n  var computedOpacity = parseFloat(computed.opacity);\n  var configOpacity = !isNaN(parseFloat(config.opacity)) ? parseFloat(config.opacity) : parseFloat(computed.opacity);\n  var opacity = {\n    computed: computedOpacity !== configOpacity ? \"opacity: \" + computedOpacity + \";\" : '',\n    generated: computedOpacity !== configOpacity ? \"opacity: \" + configOpacity + \";\" : ''\n  };\n  /**\n   * Generate transformation styles\n   */\n\n  var transformations = [];\n\n  if (parseFloat(config.distance)) {\n    var axis = config.origin === 'top' || config.origin === 'bottom' ? 'Y' : 'X';\n    /**\n     * Let’s make sure our our pixel distances are negative for top and left.\n     * e.g. { origin: 'top', distance: '25px' } starts at `top: -25px` in CSS.\n     */\n\n    var distance = config.distance;\n\n    if (config.origin === 'top' || config.origin === 'left') {\n      distance = /^-/.test(distance) ? distance.substr(1) : \"-\" + distance;\n    }\n\n    var ref = distance.match(/(^-?\\d+\\.?\\d?)|(em$|px$|%$)/g);\n    var value = ref[0];\n    var unit = ref[1];\n\n    switch (unit) {\n      case 'em':\n        distance = parseInt(computed.fontSize) * value;\n        break;\n\n      case 'px':\n        distance = value;\n        break;\n\n      case '%':\n        /**\n         * Here we use `getBoundingClientRect` instead of\n         * the existing data attached to `element.geometry`\n         * because only the former includes any transformations\n         * current applied to the element.\n         *\n         * If that behavior ends up being unintuitive, this\n         * logic could instead utilize `element.geometry.height`\n         * and `element.geoemetry.width` for the distance calculation\n         */\n        distance = axis === 'Y' ? element.node.getBoundingClientRect().height * value / 100 : element.node.getBoundingClientRect().width * value / 100;\n        break;\n\n      default:\n        throw new RangeError('Unrecognized or missing distance unit.');\n    }\n\n    if (axis === 'Y') {\n      transformations.push(translateY(distance));\n    } else {\n      transformations.push(translateX(distance));\n    }\n  }\n\n  if (config.rotate.x) {\n    transformations.push(rotateX(config.rotate.x));\n  }\n\n  if (config.rotate.y) {\n    transformations.push(rotateY(config.rotate.y));\n  }\n\n  if (config.rotate.z) {\n    transformations.push(rotateZ(config.rotate.z));\n  }\n\n  if (config.scale !== 1) {\n    if (config.scale === 0) {\n      /**\n       * The CSS Transforms matrix interpolation specification\n       * basically disallows transitions of non-invertible\n       * matrixes, which means browsers won't transition\n       * elements with zero scale.\n       *\n       * That’s inconvenient for the API and developer\n       * experience, so we simply nudge their value\n       * slightly above zero; this allows browsers\n       * to transition our element as expected.\n       *\n       * `0.0002` was the smallest number\n       * that performed across browsers.\n       */\n      transformations.push(scale(0.0002));\n    } else {\n      transformations.push(scale(config.scale));\n    }\n  }\n\n  var transform = {};\n\n  if (transformations.length) {\n    transform.property = getPrefixedCssProp('transform');\n    /**\n     * The default computed transform value should be one of:\n     * undefined || 'none' || 'matrix()' || 'matrix3d()'\n     */\n\n    transform.computed = {\n      raw: computed[transform.property],\n      matrix: parse(computed[transform.property])\n    };\n    transformations.unshift(transform.computed.matrix);\n    var product = transformations.reduce(multiply);\n    transform.generated = {\n      initial: transform.property + \": matrix3d(\" + product.join(', ') + \");\",\n      final: transform.property + \": matrix3d(\" + transform.computed.matrix.join(', ') + \");\"\n    };\n  } else {\n    transform.generated = {\n      initial: '',\n      final: ''\n    };\n  }\n  /**\n   * Generate transition styles\n   */\n\n\n  var transition = {};\n\n  if (opacity.generated || transform.generated.initial) {\n    transition.property = getPrefixedCssProp('transition');\n    transition.computed = computed[transition.property];\n    transition.fragments = [];\n    var delay = config.delay;\n    var duration = config.duration;\n    var easing = config.easing;\n\n    if (opacity.generated) {\n      transition.fragments.push({\n        delayed: \"opacity \" + duration / 1000 + \"s \" + easing + \" \" + delay / 1000 + \"s\",\n        instant: \"opacity \" + duration / 1000 + \"s \" + easing + \" 0s\"\n      });\n    }\n\n    if (transform.generated.initial) {\n      transition.fragments.push({\n        delayed: transform.property + \" \" + duration / 1000 + \"s \" + easing + \" \" + delay / 1000 + \"s\",\n        instant: transform.property + \" \" + duration / 1000 + \"s \" + easing + \" 0s\"\n      });\n    }\n    /**\n     * The default computed transition property should be undefined, or one of:\n     * '' || 'none 0s ease 0s' || 'all 0s ease 0s' || 'all 0s 0s cubic-bezier()'\n     */\n\n\n    var hasCustomTransition = transition.computed && !transition.computed.match(/all 0s|none 0s/);\n\n    if (hasCustomTransition) {\n      transition.fragments.unshift({\n        delayed: transition.computed,\n        instant: transition.computed\n      });\n    }\n\n    var composed = transition.fragments.reduce(function (composition, fragment, i) {\n      composition.delayed += i === 0 ? fragment.delayed : \", \" + fragment.delayed;\n      composition.instant += i === 0 ? fragment.instant : \", \" + fragment.instant;\n      return composition;\n    }, {\n      delayed: '',\n      instant: ''\n    });\n    transition.generated = {\n      delayed: transition.property + \": \" + composed.delayed + \";\",\n      instant: transition.property + \": \" + composed.instant + \";\"\n    };\n  } else {\n    transition.generated = {\n      delayed: '',\n      instant: ''\n    };\n  }\n\n  return {\n    inline: inline,\n    opacity: opacity,\n    position: position,\n    transform: transform,\n    transition: transition\n  };\n}\n/**\n * apply a CSS string to an element using the CSSOM (element.style) rather\n * than setAttribute, which may violate the content security policy.\n *\n * @param {Node}   [el]  Element to receive styles.\n * @param {string} [declaration] Styles to apply.\n */\n\n\nfunction applyStyle(el, declaration) {\n  declaration.split(';').forEach(function (pair) {\n    var ref = pair.split(':');\n    var property = ref[0];\n    var value = ref.slice(1);\n\n    if (property && value) {\n      el.style[property.trim()] = value.join(':');\n    }\n  });\n}\n\nfunction clean(target) {\n  var this$1 = this;\n  var dirty;\n\n  try {\n    each($(target), function (node) {\n      var id = node.getAttribute('data-sr-id');\n\n      if (id !== null) {\n        dirty = true;\n        var element = this$1.store.elements[id];\n\n        if (element.callbackTimer) {\n          window.clearTimeout(element.callbackTimer.clock);\n        }\n\n        applyStyle(element.node, element.styles.inline.generated);\n        node.removeAttribute('data-sr-id');\n        delete this$1.store.elements[id];\n      }\n    });\n  } catch (e) {\n    return logger.call(this, 'Clean failed.', e.message);\n  }\n\n  if (dirty) {\n    try {\n      rinse.call(this);\n    } catch (e) {\n      return logger.call(this, 'Clean failed.', e.message);\n    }\n  }\n}\n\nfunction destroy() {\n  var this$1 = this;\n  /**\n   * Remove all generated styles and element ids\n   */\n\n  each(this.store.elements, function (element) {\n    applyStyle(element.node, element.styles.inline.generated);\n    element.node.removeAttribute('data-sr-id');\n  });\n  /**\n   * Remove all event listeners.\n   */\n\n  each(this.store.containers, function (container) {\n    var target = container.node === document.documentElement ? window : container.node;\n    target.removeEventListener('scroll', this$1.delegate);\n    target.removeEventListener('resize', this$1.delegate);\n  });\n  /**\n   * Clear all data from the store\n   */\n\n  this.store = {\n    containers: {},\n    elements: {},\n    history: [],\n    sequences: {}\n  };\n}\n\nfunction deepAssign(target) {\n  var sources = [],\n      len = arguments.length - 1;\n\n  while (len-- > 0) {\n    sources[len] = arguments[len + 1];\n  }\n\n  if (isObject(target)) {\n    each(sources, function (source) {\n      each(source, function (data, key) {\n        if (isObject(data)) {\n          if (!target[key] || !isObject(target[key])) {\n            target[key] = {};\n          }\n\n          deepAssign(target[key], data);\n        } else {\n          target[key] = data;\n        }\n      });\n    });\n    return target;\n  } else {\n    throw new TypeError('Target must be an object literal.');\n  }\n}\n\nfunction isMobile(agent) {\n  if (agent === void 0) agent = navigator.userAgent;\n  return /Android|iPhone|iPad|iPod/i.test(agent);\n}\n\nvar nextUniqueId = function () {\n  var uid = 0;\n  return function () {\n    return uid++;\n  };\n}();\n\nfunction initialize() {\n  var this$1 = this;\n  rinse.call(this);\n  each(this.store.elements, function (element) {\n    var styles = [element.styles.inline.generated];\n\n    if (element.visible) {\n      styles.push(element.styles.opacity.computed);\n      styles.push(element.styles.transform.generated.final);\n      element.revealed = true;\n    } else {\n      styles.push(element.styles.opacity.generated);\n      styles.push(element.styles.transform.generated.initial);\n      element.revealed = false;\n    }\n\n    applyStyle(element.node, styles.filter(function (s) {\n      return s !== '';\n    }).join(' '));\n  });\n  each(this.store.containers, function (container) {\n    var target = container.node === document.documentElement ? window : container.node;\n    target.addEventListener('scroll', this$1.delegate);\n    target.addEventListener('resize', this$1.delegate);\n  });\n  /**\n   * Manually invoke delegate once to capture\n   * element and container dimensions, container\n   * scroll position, and trigger any valid reveals\n   */\n\n  this.delegate();\n  /**\n   * Wipe any existing `setTimeout` now\n   * that initialization has completed.\n   */\n\n  this.initTimeout = null;\n}\n\nfunction animate(element, force) {\n  if (force === void 0) force = {};\n  var pristine = force.pristine || this.pristine;\n  var delayed = element.config.useDelay === 'always' || element.config.useDelay === 'onload' && pristine || element.config.useDelay === 'once' && !element.seen;\n  var shouldReveal = element.visible && !element.revealed;\n  var shouldReset = !element.visible && element.revealed && element.config.reset;\n\n  if (force.reveal || shouldReveal) {\n    return triggerReveal.call(this, element, delayed);\n  }\n\n  if (force.reset || shouldReset) {\n    return triggerReset.call(this, element);\n  }\n}\n\nfunction triggerReveal(element, delayed) {\n  var styles = [element.styles.inline.generated, element.styles.opacity.computed, element.styles.transform.generated.final];\n\n  if (delayed) {\n    styles.push(element.styles.transition.generated.delayed);\n  } else {\n    styles.push(element.styles.transition.generated.instant);\n  }\n\n  element.revealed = element.seen = true;\n  applyStyle(element.node, styles.filter(function (s) {\n    return s !== '';\n  }).join(' '));\n  registerCallbacks.call(this, element, delayed);\n}\n\nfunction triggerReset(element) {\n  var styles = [element.styles.inline.generated, element.styles.opacity.generated, element.styles.transform.generated.initial, element.styles.transition.generated.instant];\n  element.revealed = false;\n  applyStyle(element.node, styles.filter(function (s) {\n    return s !== '';\n  }).join(' '));\n  registerCallbacks.call(this, element);\n}\n\nfunction registerCallbacks(element, isDelayed) {\n  var this$1 = this;\n  var duration = isDelayed ? element.config.duration + element.config.delay : element.config.duration;\n  var beforeCallback = element.revealed ? element.config.beforeReveal : element.config.beforeReset;\n  var afterCallback = element.revealed ? element.config.afterReveal : element.config.afterReset;\n  var elapsed = 0;\n\n  if (element.callbackTimer) {\n    elapsed = Date.now() - element.callbackTimer.start;\n    window.clearTimeout(element.callbackTimer.clock);\n  }\n\n  beforeCallback(element.node);\n  element.callbackTimer = {\n    start: Date.now(),\n    clock: window.setTimeout(function () {\n      afterCallback(element.node);\n      element.callbackTimer = null;\n\n      if (element.revealed && !element.config.reset && element.config.cleanup) {\n        clean.call(this$1, element.node);\n      }\n    }, duration - elapsed)\n  };\n}\n\nfunction sequence(element, pristine) {\n  if (pristine === void 0) pristine = this.pristine;\n  /**\n   * We first check if the element should reset.\n   */\n\n  if (!element.visible && element.revealed && element.config.reset) {\n    return animate.call(this, element, {\n      reset: true\n    });\n  }\n\n  var seq = this.store.sequences[element.sequence.id];\n  var i = element.sequence.index;\n\n  if (seq) {\n    var visible = new SequenceModel(seq, 'visible', this.store);\n    var revealed = new SequenceModel(seq, 'revealed', this.store);\n    seq.models = {\n      visible: visible,\n      revealed: revealed\n    };\n    /**\n     * If the sequence has no revealed members,\n     * then we reveal the first visible element\n     * within that sequence.\n     *\n     * The sequence then cues a recursive call\n     * in both directions.\n     */\n\n    if (!revealed.body.length) {\n      var nextId = seq.members[visible.body[0]];\n      var nextElement = this.store.elements[nextId];\n\n      if (nextElement) {\n        cue.call(this, seq, visible.body[0], -1, pristine);\n        cue.call(this, seq, visible.body[0], +1, pristine);\n        return animate.call(this, nextElement, {\n          reveal: true,\n          pristine: pristine\n        });\n      }\n    }\n    /**\n     * If our element isn’t resetting, we check the\n     * element sequence index against the head, and\n     * then the foot of the sequence.\n     */\n\n\n    if (!seq.blocked.head && i === [].concat(revealed.head).pop() && i >= [].concat(visible.body).shift()) {\n      cue.call(this, seq, i, -1, pristine);\n      return animate.call(this, element, {\n        reveal: true,\n        pristine: pristine\n      });\n    }\n\n    if (!seq.blocked.foot && i === [].concat(revealed.foot).shift() && i <= [].concat(visible.body).pop()) {\n      cue.call(this, seq, i, +1, pristine);\n      return animate.call(this, element, {\n        reveal: true,\n        pristine: pristine\n      });\n    }\n  }\n}\n\nfunction Sequence(interval) {\n  var i = Math.abs(interval);\n\n  if (!isNaN(i)) {\n    this.id = nextUniqueId();\n    this.interval = Math.max(i, 16);\n    this.members = [];\n    this.models = {};\n    this.blocked = {\n      head: false,\n      foot: false\n    };\n  } else {\n    throw new RangeError('Invalid sequence interval.');\n  }\n}\n\nfunction SequenceModel(seq, prop, store) {\n  var this$1 = this;\n  this.head = [];\n  this.body = [];\n  this.foot = [];\n  each(seq.members, function (id, index) {\n    var element = store.elements[id];\n\n    if (element && element[prop]) {\n      this$1.body.push(index);\n    }\n  });\n\n  if (this.body.length) {\n    each(seq.members, function (id, index) {\n      var element = store.elements[id];\n\n      if (element && !element[prop]) {\n        if (index < this$1.body[0]) {\n          this$1.head.push(index);\n        } else {\n          this$1.foot.push(index);\n        }\n      }\n    });\n  }\n}\n\nfunction cue(seq, i, direction, pristine) {\n  var this$1 = this;\n  var blocked = ['head', null, 'foot'][1 + direction];\n  var nextId = seq.members[i + direction];\n  var nextElement = this.store.elements[nextId];\n  seq.blocked[blocked] = true;\n  setTimeout(function () {\n    seq.blocked[blocked] = false;\n\n    if (nextElement) {\n      sequence.call(this$1, nextElement, pristine);\n    }\n  }, seq.interval);\n}\n\nfunction reveal(target, options, syncing) {\n  var this$1 = this;\n  if (options === void 0) options = {};\n  if (syncing === void 0) syncing = false;\n  var containerBuffer = [];\n  var sequence$$1;\n  var interval = options.interval || defaults.interval;\n\n  try {\n    if (interval) {\n      sequence$$1 = new Sequence(interval);\n    }\n\n    var nodes = $(target);\n\n    if (!nodes.length) {\n      throw new Error('Invalid reveal target.');\n    }\n\n    var elements = nodes.reduce(function (elementBuffer, elementNode) {\n      var element = {};\n      var existingId = elementNode.getAttribute('data-sr-id');\n\n      if (existingId) {\n        deepAssign(element, this$1.store.elements[existingId]);\n        /**\n         * In order to prevent previously generated styles\n         * from throwing off the new styles, the style tag\n         * has to be reverted to its pre-reveal state.\n         */\n\n        applyStyle(element.node, element.styles.inline.computed);\n      } else {\n        element.id = nextUniqueId();\n        element.node = elementNode;\n        element.seen = false;\n        element.revealed = false;\n        element.visible = false;\n      }\n\n      var config = deepAssign({}, element.config || this$1.defaults, options);\n\n      if (!config.mobile && isMobile() || !config.desktop && !isMobile()) {\n        if (existingId) {\n          clean.call(this$1, element);\n        }\n\n        return elementBuffer; // skip elements that are disabled\n      }\n\n      var containerNode = $(config.container)[0];\n\n      if (!containerNode) {\n        throw new Error('Invalid container.');\n      }\n\n      if (!containerNode.contains(elementNode)) {\n        return elementBuffer; // skip elements found outside the container\n      }\n\n      var containerId;\n      {\n        containerId = getContainerId(containerNode, containerBuffer, this$1.store.containers);\n\n        if (containerId === null) {\n          containerId = nextUniqueId();\n          containerBuffer.push({\n            id: containerId,\n            node: containerNode\n          });\n        }\n      }\n      element.config = config;\n      element.containerId = containerId;\n      element.styles = style(element);\n\n      if (sequence$$1) {\n        element.sequence = {\n          id: sequence$$1.id,\n          index: sequence$$1.members.length\n        };\n        sequence$$1.members.push(element.id);\n      }\n\n      elementBuffer.push(element);\n      return elementBuffer;\n    }, []);\n    /**\n     * Modifying the DOM via setAttribute needs to be handled\n     * separately from reading computed styles in the map above\n     * for the browser to batch DOM changes (limiting reflows)\n     */\n\n    each(elements, function (element) {\n      this$1.store.elements[element.id] = element;\n      element.node.setAttribute('data-sr-id', element.id);\n    });\n  } catch (e) {\n    return logger.call(this, 'Reveal failed.', e.message);\n  }\n  /**\n   * Now that element set-up is complete...\n   * Let’s commit any container and sequence data we have to the store.\n   */\n\n\n  each(containerBuffer, function (container) {\n    this$1.store.containers[container.id] = {\n      id: container.id,\n      node: container.node\n    };\n  });\n\n  if (sequence$$1) {\n    this.store.sequences[sequence$$1.id] = sequence$$1;\n  }\n  /**\n   * If reveal wasn't invoked by sync, we want to\n   * make sure to add this call to the history.\n   */\n\n\n  if (syncing !== true) {\n    this.store.history.push({\n      target: target,\n      options: options\n    });\n    /**\n     * Push initialization to the event queue, giving\n     * multiple reveal calls time to be interpreted.\n     */\n\n    if (this.initTimeout) {\n      window.clearTimeout(this.initTimeout);\n    }\n\n    this.initTimeout = window.setTimeout(initialize.bind(this), 0);\n  }\n}\n\nfunction getContainerId(node) {\n  var collections = [],\n      len = arguments.length - 1;\n\n  while (len-- > 0) {\n    collections[len] = arguments[len + 1];\n  }\n\n  var id = null;\n  each(collections, function (collection) {\n    each(collection, function (container) {\n      if (id === null && container.node === node) {\n        id = container.id;\n      }\n    });\n  });\n  return id;\n}\n/**\n * Re-runs the reveal method for each record stored in history,\n * for capturing new content asynchronously loaded into the DOM.\n */\n\n\nfunction sync() {\n  var this$1 = this;\n  each(this.store.history, function (record) {\n    reveal.call(this$1, record.target, record.options, true);\n  });\n  initialize.call(this);\n}\n\nvar polyfill = function polyfill(x) {\n  return (x > 0) - (x < 0) || +x;\n};\n\nvar mathSign = Math.sign || polyfill;\n\nfunction getGeometry(target, isContainer) {\n  /**\n   * We want to ignore padding and scrollbars for container elements.\n   * More information here: https://goo.gl/vOZpbz\n   */\n  var height = isContainer ? target.node.clientHeight : target.node.offsetHeight;\n  var width = isContainer ? target.node.clientWidth : target.node.offsetWidth;\n  var offsetTop = 0;\n  var offsetLeft = 0;\n  var node = target.node;\n\n  do {\n    if (!isNaN(node.offsetTop)) {\n      offsetTop += node.offsetTop;\n    }\n\n    if (!isNaN(node.offsetLeft)) {\n      offsetLeft += node.offsetLeft;\n    }\n\n    node = node.offsetParent;\n  } while (node);\n\n  return {\n    bounds: {\n      top: offsetTop,\n      right: offsetLeft + width,\n      bottom: offsetTop + height,\n      left: offsetLeft\n    },\n    height: height,\n    width: width\n  };\n}\n\nfunction getScrolled(container) {\n  var top, left;\n\n  if (container.node === document.documentElement) {\n    top = window.pageYOffset;\n    left = window.pageXOffset;\n  } else {\n    top = container.node.scrollTop;\n    left = container.node.scrollLeft;\n  }\n\n  return {\n    top: top,\n    left: left\n  };\n}\n\nfunction isElementVisible(element) {\n  if (element === void 0) element = {};\n  var container = this.store.containers[element.containerId];\n\n  if (!container) {\n    return;\n  }\n\n  var viewFactor = Math.max(0, Math.min(1, element.config.viewFactor));\n  var viewOffset = element.config.viewOffset;\n  var elementBounds = {\n    top: element.geometry.bounds.top + element.geometry.height * viewFactor,\n    right: element.geometry.bounds.right - element.geometry.width * viewFactor,\n    bottom: element.geometry.bounds.bottom - element.geometry.height * viewFactor,\n    left: element.geometry.bounds.left + element.geometry.width * viewFactor\n  };\n  var containerBounds = {\n    top: container.geometry.bounds.top + container.scroll.top + viewOffset.top,\n    right: container.geometry.bounds.right + container.scroll.left - viewOffset.right,\n    bottom: container.geometry.bounds.bottom + container.scroll.top - viewOffset.bottom,\n    left: container.geometry.bounds.left + container.scroll.left + viewOffset.left\n  };\n  return elementBounds.top < containerBounds.bottom && elementBounds.right > containerBounds.left && elementBounds.bottom > containerBounds.top && elementBounds.left < containerBounds.right || element.styles.position === 'fixed';\n}\n\nfunction delegate(event, elements) {\n  var this$1 = this;\n  if (event === void 0) event = {\n    type: 'init'\n  };\n  if (elements === void 0) elements = this.store.elements;\n  raf(function () {\n    var stale = event.type === 'init' || event.type === 'resize';\n    each(this$1.store.containers, function (container) {\n      if (stale) {\n        container.geometry = getGeometry.call(this$1, container, true);\n      }\n\n      var scroll = getScrolled.call(this$1, container);\n\n      if (container.scroll) {\n        container.direction = {\n          x: mathSign(scroll.left - container.scroll.left),\n          y: mathSign(scroll.top - container.scroll.top)\n        };\n      }\n\n      container.scroll = scroll;\n    });\n    /**\n     * Due to how the sequencer is implemented, it’s\n     * important that we update the state of all\n     * elements, before any animation logic is\n     * evaluated (in the second loop below).\n     */\n\n    each(elements, function (element) {\n      if (stale || element.geometry === undefined) {\n        element.geometry = getGeometry.call(this$1, element);\n      }\n\n      element.visible = isElementVisible.call(this$1, element);\n    });\n    each(elements, function (element) {\n      if (element.sequence) {\n        sequence.call(this$1, element);\n      } else {\n        animate.call(this$1, element);\n      }\n    });\n    this$1.pristine = false;\n  });\n}\n\nfunction isTransformSupported() {\n  var style = document.documentElement.style;\n  return 'transform' in style || 'WebkitTransform' in style;\n}\n\nfunction isTransitionSupported() {\n  var style = document.documentElement.style;\n  return 'transition' in style || 'WebkitTransition' in style;\n}\n\nvar version = \"4.0.9\";\nvar boundDelegate;\nvar boundDestroy;\nvar boundReveal;\nvar boundClean;\nvar boundSync;\nvar config;\nvar debug;\nvar instance;\n\nfunction ScrollReveal(options) {\n  if (options === void 0) options = {};\n  var invokedWithoutNew = typeof this === 'undefined' || Object.getPrototypeOf(this) !== ScrollReveal.prototype;\n\n  if (invokedWithoutNew) {\n    return new ScrollReveal(options);\n  }\n\n  if (!ScrollReveal.isSupported()) {\n    logger.call(this, 'Instantiation failed.', 'This browser is not supported.');\n    return mount.failure();\n  }\n\n  var buffer;\n\n  try {\n    buffer = config ? deepAssign({}, config, options) : deepAssign({}, defaults, options);\n  } catch (e) {\n    logger.call(this, 'Invalid configuration.', e.message);\n    return mount.failure();\n  }\n\n  try {\n    var container = $(buffer.container)[0];\n\n    if (!container) {\n      throw new Error('Invalid container.');\n    }\n  } catch (e) {\n    logger.call(this, e.message);\n    return mount.failure();\n  }\n\n  config = buffer;\n\n  if (!config.mobile && isMobile() || !config.desktop && !isMobile()) {\n    logger.call(this, 'This device is disabled.', \"desktop: \" + config.desktop, \"mobile: \" + config.mobile);\n    return mount.failure();\n  }\n\n  mount.success();\n  this.store = {\n    containers: {},\n    elements: {},\n    history: [],\n    sequences: {}\n  };\n  this.pristine = true;\n  boundDelegate = boundDelegate || delegate.bind(this);\n  boundDestroy = boundDestroy || destroy.bind(this);\n  boundReveal = boundReveal || reveal.bind(this);\n  boundClean = boundClean || clean.bind(this);\n  boundSync = boundSync || sync.bind(this);\n  Object.defineProperty(this, 'delegate', {\n    get: function get() {\n      return boundDelegate;\n    }\n  });\n  Object.defineProperty(this, 'destroy', {\n    get: function get() {\n      return boundDestroy;\n    }\n  });\n  Object.defineProperty(this, 'reveal', {\n    get: function get() {\n      return boundReveal;\n    }\n  });\n  Object.defineProperty(this, 'clean', {\n    get: function get() {\n      return boundClean;\n    }\n  });\n  Object.defineProperty(this, 'sync', {\n    get: function get() {\n      return boundSync;\n    }\n  });\n  Object.defineProperty(this, 'defaults', {\n    get: function get() {\n      return config;\n    }\n  });\n  Object.defineProperty(this, 'version', {\n    get: function get() {\n      return version;\n    }\n  });\n  Object.defineProperty(this, 'noop', {\n    get: function get() {\n      return false;\n    }\n  });\n  return instance ? instance : instance = this;\n}\n\nScrollReveal.isSupported = function () {\n  return isTransformSupported() && isTransitionSupported();\n};\n\nObject.defineProperty(ScrollReveal, 'debug', {\n  get: function get() {\n    return debug || false;\n  },\n  set: function set(value) {\n    return debug = typeof value === 'boolean' ? value : debug;\n  }\n});\nScrollReveal();\nexport default ScrollReveal;","map":{"version":3,"sources":["C:/Users/USER/Desktop/sunflower/node_modules/scrollreveal/dist/scrollreveal.es.js"],"names":["$","translateY","translateX","rotateX","rotateY","rotateZ","scale","parse","multiply","raf","defaults","delay","distance","duration","easing","interval","opacity","origin","rotate","x","y","z","cleanup","container","document","documentElement","desktop","mobile","reset","useDelay","viewFactor","viewOffset","top","right","bottom","left","afterReset","afterReveal","beforeReset","beforeReveal","failure","classList","remove","clean","destroy","reveal","sync","noop","success","add","body","style","height","addEventListener","mount","isObject","Object","constructor","prototype","toString","call","each","collection","callback","keys","forEach","key","Array","item","i","TypeError","logger","message","details","len","arguments","length","debug","console","report","detail","log","rinse","this$1","struct","active","stale","elementIds","sequenceIds","containerIds","node","id","parseInt","getAttribute","push","e","store","elements","element","indexOf","staleId","containerId","hasOwnProperty","sequence","containers","removeEventListener","delegate","sequences","getPrefixedCssProp","properties","getPrefixedCssProperty","name","source","RangeError","clearCache","computed","window","getComputedStyle","position","config","inline","inlineStyle","inlineMatch","match","map","m","trim","join","generated","some","concat","computedOpacity","parseFloat","configOpacity","isNaN","transformations","axis","test","substr","ref","value","unit","fontSize","getBoundingClientRect","width","transform","property","raw","matrix","unshift","product","reduce","initial","final","transition","fragments","delayed","instant","hasCustomTransition","composed","composition","fragment","applyStyle","el","declaration","split","pair","slice","target","dirty","callbackTimer","clearTimeout","clock","styles","removeAttribute","history","deepAssign","sources","data","isMobile","agent","navigator","userAgent","nextUniqueId","uid","initialize","visible","revealed","filter","s","initTimeout","animate","force","pristine","seen","shouldReveal","shouldReset","triggerReveal","triggerReset","registerCallbacks","isDelayed","beforeCallback","afterCallback","elapsed","Date","now","start","setTimeout","seq","index","SequenceModel","models","nextId","members","nextElement","cue","blocked","head","pop","shift","foot","Sequence","Math","abs","max","prop","direction","options","syncing","containerBuffer","sequence$$1","nodes","Error","elementBuffer","elementNode","existingId","containerNode","contains","getContainerId","setAttribute","bind","collections","record","polyfill","mathSign","sign","getGeometry","isContainer","clientHeight","offsetHeight","clientWidth","offsetWidth","offsetTop","offsetLeft","offsetParent","bounds","getScrolled","pageYOffset","pageXOffset","scrollTop","scrollLeft","isElementVisible","min","elementBounds","geometry","containerBounds","scroll","event","type","undefined","isTransformSupported","isTransitionSupported","version","boundDelegate","boundDestroy","boundReveal","boundClean","boundSync","instance","ScrollReveal","invokedWithoutNew","getPrototypeOf","isSupported","buffer","defineProperty","get","set"],"mappings":"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","sourcesContent":["/*! @license ScrollReveal v4.0.9\n\n\tCopyright 2021 Fisssion LLC.\n\n\tLicensed under the GNU General Public License 3.0 for\n\tcompatible open source projects and non-commercial use.\n\n\tFor commercial sites, themes, projects, and applications,\n\tkeep your source code private/proprietary by purchasing\n\ta commercial license from https://scrollrevealjs.org/\n*/\nimport $ from 'tealight';\nimport { translateY, translateX, rotateX, rotateY, rotateZ, scale, parse, multiply } from 'rematrix';\nimport raf from 'miniraf';\n\nvar defaults = {\n\tdelay: 0,\n\tdistance: '0',\n\tduration: 600,\n\teasing: 'cubic-bezier(0.5, 0, 0, 1)',\n\tinterval: 0,\n\topacity: 0,\n\torigin: 'bottom',\n\trotate: {\n\t\tx: 0,\n\t\ty: 0,\n\t\tz: 0\n\t},\n\tscale: 1,\n\tcleanup: false,\n\tcontainer: document.documentElement,\n\tdesktop: true,\n\tmobile: true,\n\treset: false,\n\tuseDelay: 'always',\n\tviewFactor: 0.0,\n\tviewOffset: {\n\t\ttop: 0,\n\t\tright: 0,\n\t\tbottom: 0,\n\t\tleft: 0\n\t},\n\tafterReset: function afterReset() {},\n\tafterReveal: function afterReveal() {},\n\tbeforeReset: function beforeReset() {},\n\tbeforeReveal: function beforeReveal() {}\n};\n\nfunction failure() {\n\tdocument.documentElement.classList.remove('sr');\n\n\treturn {\n\t\tclean: function clean() {},\n\t\tdestroy: function destroy() {},\n\t\treveal: function reveal() {},\n\t\tsync: function sync() {},\n\t\tget noop() {\n\t\t\treturn true\n\t\t}\n\t}\n}\n\nfunction success() {\n\tdocument.documentElement.classList.add('sr');\n\n\tif (document.body) {\n\t\tdocument.body.style.height = '100%';\n\t} else {\n\t\tdocument.addEventListener('DOMContentLoaded', function () {\n\t\t\tdocument.body.style.height = '100%';\n\t\t});\n\t}\n}\n\nvar mount = { success: success, failure: failure };\n\nfunction isObject(x) {\n\treturn (\n\t\tx !== null &&\n\t\tx instanceof Object &&\n\t\t(x.constructor === Object ||\n\t\t\tObject.prototype.toString.call(x) === '[object Object]')\n\t)\n}\n\nfunction each(collection, callback) {\n\tif (isObject(collection)) {\n\t\tvar keys = Object.keys(collection);\n\t\treturn keys.forEach(function (key) { return callback(collection[key], key, collection); })\n\t}\n\tif (collection instanceof Array) {\n\t\treturn collection.forEach(function (item, i) { return callback(item, i, collection); })\n\t}\n\tthrow new TypeError('Expected either an array or object literal.')\n}\n\nfunction logger(message) {\n\tvar details = [], len = arguments.length - 1;\n\twhile ( len-- > 0 ) details[ len ] = arguments[ len + 1 ];\n\n\tif (this.constructor.debug && console) {\n\t\tvar report = \"%cScrollReveal: \" + message;\n\t\tdetails.forEach(function (detail) { return (report += \"\\n — \" + detail); });\n\t\tconsole.log(report, 'color: #ea654b;'); // eslint-disable-line no-console\n\t}\n}\n\nfunction rinse() {\n\tvar this$1 = this;\n\n\tvar struct = function () { return ({\n\t\tactive: [],\n\t\tstale: []\n\t}); };\n\n\tvar elementIds = struct();\n\tvar sequenceIds = struct();\n\tvar containerIds = struct();\n\n\t/**\n\t * Take stock of active element IDs.\n\t */\n\ttry {\n\t\teach($('[data-sr-id]'), function (node) {\n\t\t\tvar id = parseInt(node.getAttribute('data-sr-id'));\n\t\t\telementIds.active.push(id);\n\t\t});\n\t} catch (e) {\n\t\tthrow e\n\t}\n\t/**\n\t * Destroy stale elements.\n\t */\n\teach(this.store.elements, function (element) {\n\t\tif (elementIds.active.indexOf(element.id) === -1) {\n\t\t\telementIds.stale.push(element.id);\n\t\t}\n\t});\n\n\teach(elementIds.stale, function (staleId) { return delete this$1.store.elements[staleId]; });\n\n\t/**\n\t * Take stock of active container and sequence IDs.\n\t */\n\teach(this.store.elements, function (element) {\n\t\tif (containerIds.active.indexOf(element.containerId) === -1) {\n\t\t\tcontainerIds.active.push(element.containerId);\n\t\t}\n\t\tif (element.hasOwnProperty('sequence')) {\n\t\t\tif (sequenceIds.active.indexOf(element.sequence.id) === -1) {\n\t\t\t\tsequenceIds.active.push(element.sequence.id);\n\t\t\t}\n\t\t}\n\t});\n\n\t/**\n\t * Destroy stale containers.\n\t */\n\teach(this.store.containers, function (container) {\n\t\tif (containerIds.active.indexOf(container.id) === -1) {\n\t\t\tcontainerIds.stale.push(container.id);\n\t\t}\n\t});\n\n\teach(containerIds.stale, function (staleId) {\n\t\tvar stale = this$1.store.containers[staleId].node;\n\t\tstale.removeEventListener('scroll', this$1.delegate);\n\t\tstale.removeEventListener('resize', this$1.delegate);\n\t\tdelete this$1.store.containers[staleId];\n\t});\n\n\t/**\n\t * Destroy stale sequences.\n\t */\n\teach(this.store.sequences, function (sequence) {\n\t\tif (sequenceIds.active.indexOf(sequence.id) === -1) {\n\t\t\tsequenceIds.stale.push(sequence.id);\n\t\t}\n\t});\n\n\teach(sequenceIds.stale, function (staleId) { return delete this$1.store.sequences[staleId]; });\n}\n\nvar getPrefixedCssProp = (function () {\n\tvar properties = {};\n\tvar style = document.documentElement.style;\n\n\tfunction getPrefixedCssProperty(name, source) {\n\t\tif ( source === void 0 ) source = style;\n\n\t\tif (name && typeof name === 'string') {\n\t\t\tif (properties[name]) {\n\t\t\t\treturn properties[name]\n\t\t\t}\n\t\t\tif (typeof source[name] === 'string') {\n\t\t\t\treturn (properties[name] = name)\n\t\t\t}\n\t\t\tif (typeof source[(\"-webkit-\" + name)] === 'string') {\n\t\t\t\treturn (properties[name] = \"-webkit-\" + name)\n\t\t\t}\n\t\t\tthrow new RangeError((\"Unable to find \\\"\" + name + \"\\\" style property.\"))\n\t\t}\n\t\tthrow new TypeError('Expected a string.')\n\t}\n\n\tgetPrefixedCssProperty.clearCache = function () { return (properties = {}); };\n\n\treturn getPrefixedCssProperty\n})();\n\nfunction style(element) {\n\tvar computed = window.getComputedStyle(element.node);\n\tvar position = computed.position;\n\tvar config = element.config;\n\n\t/**\n\t * Generate inline styles\n\t */\n\tvar inline = {};\n\tvar inlineStyle = element.node.getAttribute('style') || '';\n\tvar inlineMatch = inlineStyle.match(/[\\w-]+\\s*:\\s*[^;]+\\s*/gi) || [];\n\n\tinline.computed = inlineMatch ? inlineMatch.map(function (m) { return m.trim(); }).join('; ') + ';' : '';\n\n\tinline.generated = inlineMatch.some(function (m) { return m.match(/visibility\\s?:\\s?visible/i); })\n\t\t? inline.computed\n\t\t: inlineMatch.concat( ['visibility: visible']).map(function (m) { return m.trim(); }).join('; ') + ';';\n\n\t/**\n\t * Generate opacity styles\n\t */\n\tvar computedOpacity = parseFloat(computed.opacity);\n\tvar configOpacity = !isNaN(parseFloat(config.opacity))\n\t\t? parseFloat(config.opacity)\n\t\t: parseFloat(computed.opacity);\n\n\tvar opacity = {\n\t\tcomputed: computedOpacity !== configOpacity ? (\"opacity: \" + computedOpacity + \";\") : '',\n\t\tgenerated: computedOpacity !== configOpacity ? (\"opacity: \" + configOpacity + \";\") : ''\n\t};\n\n\t/**\n\t * Generate transformation styles\n\t */\n\tvar transformations = [];\n\n\tif (parseFloat(config.distance)) {\n\t\tvar axis = config.origin === 'top' || config.origin === 'bottom' ? 'Y' : 'X';\n\n\t\t/**\n\t\t * Let’s make sure our our pixel distances are negative for top and left.\n\t\t * e.g. { origin: 'top', distance: '25px' } starts at `top: -25px` in CSS.\n\t\t */\n\t\tvar distance = config.distance;\n\t\tif (config.origin === 'top' || config.origin === 'left') {\n\t\t\tdistance = /^-/.test(distance) ? distance.substr(1) : (\"-\" + distance);\n\t\t}\n\n\t\tvar ref = distance.match(/(^-?\\d+\\.?\\d?)|(em$|px$|%$)/g);\n\t\tvar value = ref[0];\n\t\tvar unit = ref[1];\n\n\t\tswitch (unit) {\n\t\t\tcase 'em':\n\t\t\t\tdistance = parseInt(computed.fontSize) * value;\n\t\t\t\tbreak\n\t\t\tcase 'px':\n\t\t\t\tdistance = value;\n\t\t\t\tbreak\n\t\t\tcase '%':\n\t\t\t\t/**\n\t\t\t\t * Here we use `getBoundingClientRect` instead of\n\t\t\t\t * the existing data attached to `element.geometry`\n\t\t\t\t * because only the former includes any transformations\n\t\t\t\t * current applied to the element.\n\t\t\t\t *\n\t\t\t\t * If that behavior ends up being unintuitive, this\n\t\t\t\t * logic could instead utilize `element.geometry.height`\n\t\t\t\t * and `element.geoemetry.width` for the distance calculation\n\t\t\t\t */\n\t\t\t\tdistance =\n\t\t\t\t\taxis === 'Y'\n\t\t\t\t\t\t? (element.node.getBoundingClientRect().height * value) / 100\n\t\t\t\t\t\t: (element.node.getBoundingClientRect().width * value) / 100;\n\t\t\t\tbreak\n\t\t\tdefault:\n\t\t\t\tthrow new RangeError('Unrecognized or missing distance unit.')\n\t\t}\n\n\t\tif (axis === 'Y') {\n\t\t\ttransformations.push(translateY(distance));\n\t\t} else {\n\t\t\ttransformations.push(translateX(distance));\n\t\t}\n\t}\n\n\tif (config.rotate.x) { transformations.push(rotateX(config.rotate.x)); }\n\tif (config.rotate.y) { transformations.push(rotateY(config.rotate.y)); }\n\tif (config.rotate.z) { transformations.push(rotateZ(config.rotate.z)); }\n\tif (config.scale !== 1) {\n\t\tif (config.scale === 0) {\n\t\t\t/**\n\t\t\t * The CSS Transforms matrix interpolation specification\n\t\t\t * basically disallows transitions of non-invertible\n\t\t\t * matrixes, which means browsers won't transition\n\t\t\t * elements with zero scale.\n\t\t\t *\n\t\t\t * That’s inconvenient for the API and developer\n\t\t\t * experience, so we simply nudge their value\n\t\t\t * slightly above zero; this allows browsers\n\t\t\t * to transition our element as expected.\n\t\t\t *\n\t\t\t * `0.0002` was the smallest number\n\t\t\t * that performed across browsers.\n\t\t\t */\n\t\t\ttransformations.push(scale(0.0002));\n\t\t} else {\n\t\t\ttransformations.push(scale(config.scale));\n\t\t}\n\t}\n\n\tvar transform = {};\n\tif (transformations.length) {\n\t\ttransform.property = getPrefixedCssProp('transform');\n\t\t/**\n\t\t * The default computed transform value should be one of:\n\t\t * undefined || 'none' || 'matrix()' || 'matrix3d()'\n\t\t */\n\t\ttransform.computed = {\n\t\t\traw: computed[transform.property],\n\t\t\tmatrix: parse(computed[transform.property])\n\t\t};\n\n\t\ttransformations.unshift(transform.computed.matrix);\n\t\tvar product = transformations.reduce(multiply);\n\n\t\ttransform.generated = {\n\t\t\tinitial: ((transform.property) + \": matrix3d(\" + (product.join(', ')) + \");\"),\n\t\t\tfinal: ((transform.property) + \": matrix3d(\" + (transform.computed.matrix.join(', ')) + \");\")\n\t\t};\n\t} else {\n\t\ttransform.generated = {\n\t\t\tinitial: '',\n\t\t\tfinal: ''\n\t\t};\n\t}\n\n\t/**\n\t * Generate transition styles\n\t */\n\tvar transition = {};\n\tif (opacity.generated || transform.generated.initial) {\n\t\ttransition.property = getPrefixedCssProp('transition');\n\t\ttransition.computed = computed[transition.property];\n\t\ttransition.fragments = [];\n\n\t\tvar delay = config.delay;\n\t\tvar duration = config.duration;\n\t\tvar easing = config.easing;\n\n\t\tif (opacity.generated) {\n\t\t\ttransition.fragments.push({\n\t\t\t\tdelayed: (\"opacity \" + (duration / 1000) + \"s \" + easing + \" \" + (delay / 1000) + \"s\"),\n\t\t\t\tinstant: (\"opacity \" + (duration / 1000) + \"s \" + easing + \" 0s\")\n\t\t\t});\n\t\t}\n\n\t\tif (transform.generated.initial) {\n\t\t\ttransition.fragments.push({\n\t\t\t\tdelayed: ((transform.property) + \" \" + (duration / 1000) + \"s \" + easing + \" \" + (delay / 1000) + \"s\"),\n\t\t\t\tinstant: ((transform.property) + \" \" + (duration / 1000) + \"s \" + easing + \" 0s\")\n\t\t\t});\n\t\t}\n\n\t\t/**\n\t\t * The default computed transition property should be undefined, or one of:\n\t\t * '' || 'none 0s ease 0s' || 'all 0s ease 0s' || 'all 0s 0s cubic-bezier()'\n\t\t */\n\t\tvar hasCustomTransition =\n\t\t\ttransition.computed && !transition.computed.match(/all 0s|none 0s/);\n\n\t\tif (hasCustomTransition) {\n\t\t\ttransition.fragments.unshift({\n\t\t\t\tdelayed: transition.computed,\n\t\t\t\tinstant: transition.computed\n\t\t\t});\n\t\t}\n\n\t\tvar composed = transition.fragments.reduce(\n\t\t\tfunction (composition, fragment, i) {\n\t\t\t\tcomposition.delayed += i === 0 ? fragment.delayed : (\", \" + (fragment.delayed));\n\t\t\t\tcomposition.instant += i === 0 ? fragment.instant : (\", \" + (fragment.instant));\n\t\t\t\treturn composition\n\t\t\t},\n\t\t\t{\n\t\t\t\tdelayed: '',\n\t\t\t\tinstant: ''\n\t\t\t}\n\t\t);\n\n\t\ttransition.generated = {\n\t\t\tdelayed: ((transition.property) + \": \" + (composed.delayed) + \";\"),\n\t\t\tinstant: ((transition.property) + \": \" + (composed.instant) + \";\")\n\t\t};\n\t} else {\n\t\ttransition.generated = {\n\t\t\tdelayed: '',\n\t\t\tinstant: ''\n\t\t};\n\t}\n\n\treturn {\n\t\tinline: inline,\n\t\topacity: opacity,\n\t\tposition: position,\n\t\ttransform: transform,\n\t\ttransition: transition\n\t}\n}\n\n/**\n * apply a CSS string to an element using the CSSOM (element.style) rather\n * than setAttribute, which may violate the content security policy.\n *\n * @param {Node}   [el]  Element to receive styles.\n * @param {string} [declaration] Styles to apply.\n */\nfunction applyStyle (el, declaration) {\n\tdeclaration.split(';').forEach(function (pair) {\n\t\tvar ref = pair.split(':');\n\t\tvar property = ref[0];\n\t\tvar value = ref.slice(1);\n\t\tif (property && value) {\n\t\t\tel.style[property.trim()] = value.join(':');\n\t\t}\n\t});\n}\n\nfunction clean(target) {\n\tvar this$1 = this;\n\n\tvar dirty;\n\ttry {\n\t\teach($(target), function (node) {\n\t\t\tvar id = node.getAttribute('data-sr-id');\n\t\t\tif (id !== null) {\n\t\t\t\tdirty = true;\n\t\t\t\tvar element = this$1.store.elements[id];\n\t\t\t\tif (element.callbackTimer) {\n\t\t\t\t\twindow.clearTimeout(element.callbackTimer.clock);\n\t\t\t\t}\n\t\t\t\tapplyStyle(element.node, element.styles.inline.generated);\n\t\t\t\tnode.removeAttribute('data-sr-id');\n\t\t\t\tdelete this$1.store.elements[id];\n\t\t\t}\n\t\t});\n\t} catch (e) {\n\t\treturn logger.call(this, 'Clean failed.', e.message)\n\t}\n\n\tif (dirty) {\n\t\ttry {\n\t\t\trinse.call(this);\n\t\t} catch (e) {\n\t\t\treturn logger.call(this, 'Clean failed.', e.message)\n\t\t}\n\t}\n}\n\nfunction destroy() {\n\tvar this$1 = this;\n\n\t/**\n\t * Remove all generated styles and element ids\n\t */\n\teach(this.store.elements, function (element) {\n\t\tapplyStyle(element.node, element.styles.inline.generated);\n\t\telement.node.removeAttribute('data-sr-id');\n\t});\n\n\t/**\n\t * Remove all event listeners.\n\t */\n\teach(this.store.containers, function (container) {\n\t\tvar target =\n\t\t\tcontainer.node === document.documentElement ? window : container.node;\n\t\ttarget.removeEventListener('scroll', this$1.delegate);\n\t\ttarget.removeEventListener('resize', this$1.delegate);\n\t});\n\n\t/**\n\t * Clear all data from the store\n\t */\n\tthis.store = {\n\t\tcontainers: {},\n\t\telements: {},\n\t\thistory: [],\n\t\tsequences: {}\n\t};\n}\n\nfunction deepAssign(target) {\n\tvar sources = [], len = arguments.length - 1;\n\twhile ( len-- > 0 ) sources[ len ] = arguments[ len + 1 ];\n\n\tif (isObject(target)) {\n\t\teach(sources, function (source) {\n\t\t\teach(source, function (data, key) {\n\t\t\t\tif (isObject(data)) {\n\t\t\t\t\tif (!target[key] || !isObject(target[key])) {\n\t\t\t\t\t\ttarget[key] = {};\n\t\t\t\t\t}\n\t\t\t\t\tdeepAssign(target[key], data);\n\t\t\t\t} else {\n\t\t\t\t\ttarget[key] = data;\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\treturn target\n\t} else {\n\t\tthrow new TypeError('Target must be an object literal.')\n\t}\n}\n\nfunction isMobile(agent) {\n\tif ( agent === void 0 ) agent = navigator.userAgent;\n\n\treturn /Android|iPhone|iPad|iPod/i.test(agent)\n}\n\nvar nextUniqueId = (function () {\n\tvar uid = 0;\n\treturn function () { return uid++; }\n})();\n\nfunction initialize() {\n\tvar this$1 = this;\n\n\trinse.call(this);\n\n\teach(this.store.elements, function (element) {\n\t\tvar styles = [element.styles.inline.generated];\n\n\t\tif (element.visible) {\n\t\t\tstyles.push(element.styles.opacity.computed);\n\t\t\tstyles.push(element.styles.transform.generated.final);\n\t\t\telement.revealed = true;\n\t\t} else {\n\t\t\tstyles.push(element.styles.opacity.generated);\n\t\t\tstyles.push(element.styles.transform.generated.initial);\n\t\t\telement.revealed = false;\n\t\t}\n\n\t\tapplyStyle(element.node, styles.filter(function (s) { return s !== ''; }).join(' '));\n\t});\n\n\teach(this.store.containers, function (container) {\n\t\tvar target =\n\t\t\tcontainer.node === document.documentElement ? window : container.node;\n\t\ttarget.addEventListener('scroll', this$1.delegate);\n\t\ttarget.addEventListener('resize', this$1.delegate);\n\t});\n\n\t/**\n\t * Manually invoke delegate once to capture\n\t * element and container dimensions, container\n\t * scroll position, and trigger any valid reveals\n\t */\n\tthis.delegate();\n\n\t/**\n\t * Wipe any existing `setTimeout` now\n\t * that initialization has completed.\n\t */\n\tthis.initTimeout = null;\n}\n\nfunction animate(element, force) {\n\tif ( force === void 0 ) force = {};\n\n\tvar pristine = force.pristine || this.pristine;\n\tvar delayed =\n\t\telement.config.useDelay === 'always' ||\n\t\t(element.config.useDelay === 'onload' && pristine) ||\n\t\t(element.config.useDelay === 'once' && !element.seen);\n\n\tvar shouldReveal = element.visible && !element.revealed;\n\tvar shouldReset = !element.visible && element.revealed && element.config.reset;\n\n\tif (force.reveal || shouldReveal) {\n\t\treturn triggerReveal.call(this, element, delayed)\n\t}\n\n\tif (force.reset || shouldReset) {\n\t\treturn triggerReset.call(this, element)\n\t}\n}\n\nfunction triggerReveal(element, delayed) {\n\tvar styles = [\n\t\telement.styles.inline.generated,\n\t\telement.styles.opacity.computed,\n\t\telement.styles.transform.generated.final\n\t];\n\tif (delayed) {\n\t\tstyles.push(element.styles.transition.generated.delayed);\n\t} else {\n\t\tstyles.push(element.styles.transition.generated.instant);\n\t}\n\telement.revealed = element.seen = true;\n\tapplyStyle(element.node, styles.filter(function (s) { return s !== ''; }).join(' '));\n\tregisterCallbacks.call(this, element, delayed);\n}\n\nfunction triggerReset(element) {\n\tvar styles = [\n\t\telement.styles.inline.generated,\n\t\telement.styles.opacity.generated,\n\t\telement.styles.transform.generated.initial,\n\t\telement.styles.transition.generated.instant\n\t];\n\telement.revealed = false;\n\tapplyStyle(element.node, styles.filter(function (s) { return s !== ''; }).join(' '));\n\tregisterCallbacks.call(this, element);\n}\n\nfunction registerCallbacks(element, isDelayed) {\n\tvar this$1 = this;\n\n\tvar duration = isDelayed\n\t\t? element.config.duration + element.config.delay\n\t\t: element.config.duration;\n\n\tvar beforeCallback = element.revealed\n\t\t? element.config.beforeReveal\n\t\t: element.config.beforeReset;\n\n\tvar afterCallback = element.revealed\n\t\t? element.config.afterReveal\n\t\t: element.config.afterReset;\n\n\tvar elapsed = 0;\n\tif (element.callbackTimer) {\n\t\telapsed = Date.now() - element.callbackTimer.start;\n\t\twindow.clearTimeout(element.callbackTimer.clock);\n\t}\n\n\tbeforeCallback(element.node);\n\n\telement.callbackTimer = {\n\t\tstart: Date.now(),\n\t\tclock: window.setTimeout(function () {\n\t\t\tafterCallback(element.node);\n\t\t\telement.callbackTimer = null;\n\t\t\tif (element.revealed && !element.config.reset && element.config.cleanup) {\n\t\t\t\tclean.call(this$1, element.node);\n\t\t\t}\n\t\t}, duration - elapsed)\n\t};\n}\n\nfunction sequence(element, pristine) {\n\tif ( pristine === void 0 ) pristine = this.pristine;\n\n\t/**\n\t * We first check if the element should reset.\n\t */\n\tif (!element.visible && element.revealed && element.config.reset) {\n\t\treturn animate.call(this, element, { reset: true })\n\t}\n\n\tvar seq = this.store.sequences[element.sequence.id];\n\tvar i = element.sequence.index;\n\n\tif (seq) {\n\t\tvar visible = new SequenceModel(seq, 'visible', this.store);\n\t\tvar revealed = new SequenceModel(seq, 'revealed', this.store);\n\n\t\tseq.models = { visible: visible, revealed: revealed };\n\n\t\t/**\n\t\t * If the sequence has no revealed members,\n\t\t * then we reveal the first visible element\n\t\t * within that sequence.\n\t\t *\n\t\t * The sequence then cues a recursive call\n\t\t * in both directions.\n\t\t */\n\t\tif (!revealed.body.length) {\n\t\t\tvar nextId = seq.members[visible.body[0]];\n\t\t\tvar nextElement = this.store.elements[nextId];\n\n\t\t\tif (nextElement) {\n\t\t\t\tcue.call(this, seq, visible.body[0], -1, pristine);\n\t\t\t\tcue.call(this, seq, visible.body[0], +1, pristine);\n\t\t\t\treturn animate.call(this, nextElement, { reveal: true, pristine: pristine })\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * If our element isn’t resetting, we check the\n\t\t * element sequence index against the head, and\n\t\t * then the foot of the sequence.\n\t\t */\n\t\tif (\n\t\t\t!seq.blocked.head &&\n\t\t\ti === [].concat( revealed.head ).pop() &&\n\t\t\ti >= [].concat( visible.body ).shift()\n\t\t) {\n\t\t\tcue.call(this, seq, i, -1, pristine);\n\t\t\treturn animate.call(this, element, { reveal: true, pristine: pristine })\n\t\t}\n\n\t\tif (\n\t\t\t!seq.blocked.foot &&\n\t\t\ti === [].concat( revealed.foot ).shift() &&\n\t\t\ti <= [].concat( visible.body ).pop()\n\t\t) {\n\t\t\tcue.call(this, seq, i, +1, pristine);\n\t\t\treturn animate.call(this, element, { reveal: true, pristine: pristine })\n\t\t}\n\t}\n}\n\nfunction Sequence(interval) {\n\tvar i = Math.abs(interval);\n\tif (!isNaN(i)) {\n\t\tthis.id = nextUniqueId();\n\t\tthis.interval = Math.max(i, 16);\n\t\tthis.members = [];\n\t\tthis.models = {};\n\t\tthis.blocked = {\n\t\t\thead: false,\n\t\t\tfoot: false\n\t\t};\n\t} else {\n\t\tthrow new RangeError('Invalid sequence interval.')\n\t}\n}\n\nfunction SequenceModel(seq, prop, store) {\n\tvar this$1 = this;\n\n\tthis.head = [];\n\tthis.body = [];\n\tthis.foot = [];\n\n\teach(seq.members, function (id, index) {\n\t\tvar element = store.elements[id];\n\t\tif (element && element[prop]) {\n\t\t\tthis$1.body.push(index);\n\t\t}\n\t});\n\n\tif (this.body.length) {\n\t\teach(seq.members, function (id, index) {\n\t\t\tvar element = store.elements[id];\n\t\t\tif (element && !element[prop]) {\n\t\t\t\tif (index < this$1.body[0]) {\n\t\t\t\t\tthis$1.head.push(index);\n\t\t\t\t} else {\n\t\t\t\t\tthis$1.foot.push(index);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}\n\nfunction cue(seq, i, direction, pristine) {\n\tvar this$1 = this;\n\n\tvar blocked = ['head', null, 'foot'][1 + direction];\n\tvar nextId = seq.members[i + direction];\n\tvar nextElement = this.store.elements[nextId];\n\n\tseq.blocked[blocked] = true;\n\n\tsetTimeout(function () {\n\t\tseq.blocked[blocked] = false;\n\t\tif (nextElement) {\n\t\t\tsequence.call(this$1, nextElement, pristine);\n\t\t}\n\t}, seq.interval);\n}\n\nfunction reveal(target, options, syncing) {\n\tvar this$1 = this;\n\tif ( options === void 0 ) options = {};\n\tif ( syncing === void 0 ) syncing = false;\n\n\tvar containerBuffer = [];\n\tvar sequence$$1;\n\tvar interval = options.interval || defaults.interval;\n\n\ttry {\n\t\tif (interval) {\n\t\t\tsequence$$1 = new Sequence(interval);\n\t\t}\n\n\t\tvar nodes = $(target);\n\t\tif (!nodes.length) {\n\t\t\tthrow new Error('Invalid reveal target.')\n\t\t}\n\n\t\tvar elements = nodes.reduce(function (elementBuffer, elementNode) {\n\t\t\tvar element = {};\n\t\t\tvar existingId = elementNode.getAttribute('data-sr-id');\n\n\t\t\tif (existingId) {\n\t\t\t\tdeepAssign(element, this$1.store.elements[existingId]);\n\n\t\t\t\t/**\n\t\t\t\t * In order to prevent previously generated styles\n\t\t\t\t * from throwing off the new styles, the style tag\n\t\t\t\t * has to be reverted to its pre-reveal state.\n\t\t\t\t */\n\t\t\t\tapplyStyle(element.node, element.styles.inline.computed);\n\t\t\t} else {\n\t\t\t\telement.id = nextUniqueId();\n\t\t\t\telement.node = elementNode;\n\t\t\t\telement.seen = false;\n\t\t\t\telement.revealed = false;\n\t\t\t\telement.visible = false;\n\t\t\t}\n\n\t\t\tvar config = deepAssign({}, element.config || this$1.defaults, options);\n\n\t\t\tif ((!config.mobile && isMobile()) || (!config.desktop && !isMobile())) {\n\t\t\t\tif (existingId) {\n\t\t\t\t\tclean.call(this$1, element);\n\t\t\t\t}\n\t\t\t\treturn elementBuffer // skip elements that are disabled\n\t\t\t}\n\n\t\t\tvar containerNode = $(config.container)[0];\n\t\t\tif (!containerNode) {\n\t\t\t\tthrow new Error('Invalid container.')\n\t\t\t}\n\t\t\tif (!containerNode.contains(elementNode)) {\n\t\t\t\treturn elementBuffer // skip elements found outside the container\n\t\t\t}\n\n\t\t\tvar containerId;\n\t\t\t{\n\t\t\t\tcontainerId = getContainerId(\n\t\t\t\t\tcontainerNode,\n\t\t\t\t\tcontainerBuffer,\n\t\t\t\t\tthis$1.store.containers\n\t\t\t\t);\n\t\t\t\tif (containerId === null) {\n\t\t\t\t\tcontainerId = nextUniqueId();\n\t\t\t\t\tcontainerBuffer.push({ id: containerId, node: containerNode });\n\t\t\t\t}\n\t\t\t}\n\n\t\t\telement.config = config;\n\t\t\telement.containerId = containerId;\n\t\t\telement.styles = style(element);\n\n\t\t\tif (sequence$$1) {\n\t\t\t\telement.sequence = {\n\t\t\t\t\tid: sequence$$1.id,\n\t\t\t\t\tindex: sequence$$1.members.length\n\t\t\t\t};\n\t\t\t\tsequence$$1.members.push(element.id);\n\t\t\t}\n\n\t\t\telementBuffer.push(element);\n\t\t\treturn elementBuffer\n\t\t}, []);\n\n\t\t/**\n\t\t * Modifying the DOM via setAttribute needs to be handled\n\t\t * separately from reading computed styles in the map above\n\t\t * for the browser to batch DOM changes (limiting reflows)\n\t\t */\n\t\teach(elements, function (element) {\n\t\t\tthis$1.store.elements[element.id] = element;\n\t\t\telement.node.setAttribute('data-sr-id', element.id);\n\t\t});\n\t} catch (e) {\n\t\treturn logger.call(this, 'Reveal failed.', e.message)\n\t}\n\n\t/**\n\t * Now that element set-up is complete...\n\t * Let’s commit any container and sequence data we have to the store.\n\t */\n\teach(containerBuffer, function (container) {\n\t\tthis$1.store.containers[container.id] = {\n\t\t\tid: container.id,\n\t\t\tnode: container.node\n\t\t};\n\t});\n\tif (sequence$$1) {\n\t\tthis.store.sequences[sequence$$1.id] = sequence$$1;\n\t}\n\n\t/**\n\t * If reveal wasn't invoked by sync, we want to\n\t * make sure to add this call to the history.\n\t */\n\tif (syncing !== true) {\n\t\tthis.store.history.push({ target: target, options: options });\n\n\t\t/**\n\t\t * Push initialization to the event queue, giving\n\t\t * multiple reveal calls time to be interpreted.\n\t\t */\n\t\tif (this.initTimeout) {\n\t\t\twindow.clearTimeout(this.initTimeout);\n\t\t}\n\t\tthis.initTimeout = window.setTimeout(initialize.bind(this), 0);\n\t}\n}\n\nfunction getContainerId(node) {\n\tvar collections = [], len = arguments.length - 1;\n\twhile ( len-- > 0 ) collections[ len ] = arguments[ len + 1 ];\n\n\tvar id = null;\n\teach(collections, function (collection) {\n\t\teach(collection, function (container) {\n\t\t\tif (id === null && container.node === node) {\n\t\t\t\tid = container.id;\n\t\t\t}\n\t\t});\n\t});\n\treturn id\n}\n\n/**\n * Re-runs the reveal method for each record stored in history,\n * for capturing new content asynchronously loaded into the DOM.\n */\nfunction sync() {\n\tvar this$1 = this;\n\n\teach(this.store.history, function (record) {\n\t\treveal.call(this$1, record.target, record.options, true);\n\t});\n\n\tinitialize.call(this);\n}\n\nvar polyfill = function (x) { return (x > 0) - (x < 0) || +x; };\nvar mathSign = Math.sign || polyfill;\n\nfunction getGeometry(target, isContainer) {\n\t/**\n\t * We want to ignore padding and scrollbars for container elements.\n\t * More information here: https://goo.gl/vOZpbz\n\t */\n\tvar height = isContainer ? target.node.clientHeight : target.node.offsetHeight;\n\tvar width = isContainer ? target.node.clientWidth : target.node.offsetWidth;\n\n\tvar offsetTop = 0;\n\tvar offsetLeft = 0;\n\tvar node = target.node;\n\n\tdo {\n\t\tif (!isNaN(node.offsetTop)) {\n\t\t\toffsetTop += node.offsetTop;\n\t\t}\n\t\tif (!isNaN(node.offsetLeft)) {\n\t\t\toffsetLeft += node.offsetLeft;\n\t\t}\n\t\tnode = node.offsetParent;\n\t} while (node)\n\n\treturn {\n\t\tbounds: {\n\t\t\ttop: offsetTop,\n\t\t\tright: offsetLeft + width,\n\t\t\tbottom: offsetTop + height,\n\t\t\tleft: offsetLeft\n\t\t},\n\t\theight: height,\n\t\twidth: width\n\t}\n}\n\nfunction getScrolled(container) {\n\tvar top, left;\n\tif (container.node === document.documentElement) {\n\t\ttop = window.pageYOffset;\n\t\tleft = window.pageXOffset;\n\t} else {\n\t\ttop = container.node.scrollTop;\n\t\tleft = container.node.scrollLeft;\n\t}\n\treturn { top: top, left: left }\n}\n\nfunction isElementVisible(element) {\n\tif ( element === void 0 ) element = {};\n\n\tvar container = this.store.containers[element.containerId];\n\tif (!container) { return }\n\n\tvar viewFactor = Math.max(0, Math.min(1, element.config.viewFactor));\n\tvar viewOffset = element.config.viewOffset;\n\n\tvar elementBounds = {\n\t\ttop: element.geometry.bounds.top + element.geometry.height * viewFactor,\n\t\tright: element.geometry.bounds.right - element.geometry.width * viewFactor,\n\t\tbottom: element.geometry.bounds.bottom - element.geometry.height * viewFactor,\n\t\tleft: element.geometry.bounds.left + element.geometry.width * viewFactor\n\t};\n\n\tvar containerBounds = {\n\t\ttop: container.geometry.bounds.top + container.scroll.top + viewOffset.top,\n\t\tright: container.geometry.bounds.right + container.scroll.left - viewOffset.right,\n\t\tbottom:\n\t\t\tcontainer.geometry.bounds.bottom + container.scroll.top - viewOffset.bottom,\n\t\tleft: container.geometry.bounds.left + container.scroll.left + viewOffset.left\n\t};\n\n\treturn (\n\t\t(elementBounds.top < containerBounds.bottom &&\n\t\t\telementBounds.right > containerBounds.left &&\n\t\t\telementBounds.bottom > containerBounds.top &&\n\t\t\telementBounds.left < containerBounds.right) ||\n\t\telement.styles.position === 'fixed'\n\t)\n}\n\nfunction delegate(\n\tevent,\n\telements\n) {\n\tvar this$1 = this;\n\tif ( event === void 0 ) event = { type: 'init' };\n\tif ( elements === void 0 ) elements = this.store.elements;\n\n\traf(function () {\n\t\tvar stale = event.type === 'init' || event.type === 'resize';\n\n\t\teach(this$1.store.containers, function (container) {\n\t\t\tif (stale) {\n\t\t\t\tcontainer.geometry = getGeometry.call(this$1, container, true);\n\t\t\t}\n\t\t\tvar scroll = getScrolled.call(this$1, container);\n\t\t\tif (container.scroll) {\n\t\t\t\tcontainer.direction = {\n\t\t\t\t\tx: mathSign(scroll.left - container.scroll.left),\n\t\t\t\t\ty: mathSign(scroll.top - container.scroll.top)\n\t\t\t\t};\n\t\t\t}\n\t\t\tcontainer.scroll = scroll;\n\t\t});\n\n\t\t/**\n\t\t * Due to how the sequencer is implemented, it’s\n\t\t * important that we update the state of all\n\t\t * elements, before any animation logic is\n\t\t * evaluated (in the second loop below).\n\t\t */\n\t\teach(elements, function (element) {\n\t\t\tif (stale || element.geometry === undefined) {\n\t\t\t\telement.geometry = getGeometry.call(this$1, element);\n\t\t\t}\n\t\t\telement.visible = isElementVisible.call(this$1, element);\n\t\t});\n\n\t\teach(elements, function (element) {\n\t\t\tif (element.sequence) {\n\t\t\t\tsequence.call(this$1, element);\n\t\t\t} else {\n\t\t\t\tanimate.call(this$1, element);\n\t\t\t}\n\t\t});\n\n\t\tthis$1.pristine = false;\n\t});\n}\n\nfunction isTransformSupported() {\n\tvar style = document.documentElement.style;\n\treturn 'transform' in style || 'WebkitTransform' in style\n}\n\nfunction isTransitionSupported() {\n\tvar style = document.documentElement.style;\n\treturn 'transition' in style || 'WebkitTransition' in style\n}\n\nvar version = \"4.0.9\";\n\nvar boundDelegate;\nvar boundDestroy;\nvar boundReveal;\nvar boundClean;\nvar boundSync;\nvar config;\nvar debug;\nvar instance;\n\nfunction ScrollReveal(options) {\n\tif ( options === void 0 ) options = {};\n\n\tvar invokedWithoutNew =\n\t\ttypeof this === 'undefined' ||\n\t\tObject.getPrototypeOf(this) !== ScrollReveal.prototype;\n\n\tif (invokedWithoutNew) {\n\t\treturn new ScrollReveal(options)\n\t}\n\n\tif (!ScrollReveal.isSupported()) {\n\t\tlogger.call(this, 'Instantiation failed.', 'This browser is not supported.');\n\t\treturn mount.failure()\n\t}\n\n\tvar buffer;\n\ttry {\n\t\tbuffer = config\n\t\t\t? deepAssign({}, config, options)\n\t\t\t: deepAssign({}, defaults, options);\n\t} catch (e) {\n\t\tlogger.call(this, 'Invalid configuration.', e.message);\n\t\treturn mount.failure()\n\t}\n\n\ttry {\n\t\tvar container = $(buffer.container)[0];\n\t\tif (!container) {\n\t\t\tthrow new Error('Invalid container.')\n\t\t}\n\t} catch (e) {\n\t\tlogger.call(this, e.message);\n\t\treturn mount.failure()\n\t}\n\n\tconfig = buffer;\n\n\tif ((!config.mobile && isMobile()) || (!config.desktop && !isMobile())) {\n\t\tlogger.call(\n\t\t\tthis,\n\t\t\t'This device is disabled.',\n\t\t\t(\"desktop: \" + (config.desktop)),\n\t\t\t(\"mobile: \" + (config.mobile))\n\t\t);\n\t\treturn mount.failure()\n\t}\n\n\tmount.success();\n\n\tthis.store = {\n\t\tcontainers: {},\n\t\telements: {},\n\t\thistory: [],\n\t\tsequences: {}\n\t};\n\n\tthis.pristine = true;\n\n\tboundDelegate = boundDelegate || delegate.bind(this);\n\tboundDestroy = boundDestroy || destroy.bind(this);\n\tboundReveal = boundReveal || reveal.bind(this);\n\tboundClean = boundClean || clean.bind(this);\n\tboundSync = boundSync || sync.bind(this);\n\n\tObject.defineProperty(this, 'delegate', { get: function () { return boundDelegate; } });\n\tObject.defineProperty(this, 'destroy', { get: function () { return boundDestroy; } });\n\tObject.defineProperty(this, 'reveal', { get: function () { return boundReveal; } });\n\tObject.defineProperty(this, 'clean', { get: function () { return boundClean; } });\n\tObject.defineProperty(this, 'sync', { get: function () { return boundSync; } });\n\n\tObject.defineProperty(this, 'defaults', { get: function () { return config; } });\n\tObject.defineProperty(this, 'version', { get: function () { return version; } });\n\tObject.defineProperty(this, 'noop', { get: function () { return false; } });\n\n\treturn instance ? instance : (instance = this)\n}\n\nScrollReveal.isSupported = function () { return isTransformSupported() && isTransitionSupported(); };\n\nObject.defineProperty(ScrollReveal, 'debug', {\n\tget: function () { return debug || false; },\n\tset: function (value) { return (debug = typeof value === 'boolean' ? value : debug); }\n});\n\nScrollReveal();\n\nexport default ScrollReveal;\n"]},"metadata":{},"sourceType":"module"}